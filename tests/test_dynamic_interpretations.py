#!/usr/bin/env python3
"""
–¢–µ—Å—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–π –ø–æ–¥ –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–º–ø—Ç–æ–≤
"""

import sys
from pathlib import Path
sys.path.append(str(Path(__file__).parent.parent))

from enhanced_pdf_report_v2 import EnhancedPDFReportV2
from datetime import datetime

def test_dynamic_interpretations():
    """–¢–µ—Å—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–º–ø—Ç–æ–≤ *_system_res.txt"""
    print("üîÑ –¢–ï–°–¢ –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–• –ò–ù–¢–ï–†–ü–†–ï–¢–ê–¶–ò–ô")
    print("=" * 60)
    print("‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–º–ø—Ç–æ–≤")
    print("‚úÖ –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–¥ –∫–∞–∂–¥–æ–π –¥–∏–∞–≥—Ä–∞–º–º–æ–π")
    print("üì§ –ó–∞–≥—Ä—É–∂–∞–µ–º –≤ Google Drive –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è")
    print()
    
    # –°–æ–∑–¥–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á–µ—Ç–æ–≤
    report_generator = EnhancedPDFReportV2()
    
    # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
    participant_name = "–î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–ï –ò–ù–¢–ï–†–ü–†–ï–¢–ê–¶–ò–ò –¢–ï–°–¢"
    test_date = datetime.now().strftime("%Y-%m-%d")
    
    # –ü—Ä–æ—Ñ–∏–ª—å —Å –¥–æ–º–∏–Ω–∏—Ä—É—é—â–∏–º –ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–º
    paei_scores = {
        "–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å (E)": 95,
        "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (A)": 78,
        "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å (P)": 82,
        "–ò–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä (I)": 71
    }
    
    # –ü—Ä–æ—Ñ–∏–ª—å —Å –≤—ã—Å–æ–∫–∏–º –î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
    disc_scores = {
        "–î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (D)": 92,
        "–í–ª–∏—è–Ω–∏–µ (I)": 74,
        "–ü–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ (S)": 68,
        "–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ (C)": 88
    }
    
    # –ü—Ä–æ—Ñ–∏–ª—å —Å –≤—ã—Å–æ–∫–æ–π –î–æ–±—Ä–æ—Å–æ–≤–µ—Å—Ç–Ω–æ—Å—Ç—å—é
    hexaco_scores = {
        "–ß–µ—Å—Ç–Ω–æ—Å—Ç—å": 89,
        "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å": 63,
        "–≠–∫—Å—Ç—Ä–∞–≤–µ—Ä—Å–∏—è": 77,
        "–î–æ–±—Ä–æ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å": 84,
        "–î–æ–±—Ä–æ—Å–æ–≤–µ—Å—Ç–Ω–æ—Å—Ç—å": 97,
        "–û—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å –æ–ø—ã—Ç—É": 72
    }
    
    # –ü—Ä–æ—Ñ–∏–ª—å —Å –≤—ã—Å–æ–∫–∏–º –†–µ—à–µ–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º
    soft_skills_scores = {
        "–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è": 86,
        "–õ–∏–¥–µ—Ä—Å—Ç–≤–æ": 91,
        "–ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞": 83,
        "–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å": 79,
        "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º": 98
    }
    
    # –ü—É—Å—Ç—ã–µ AI –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ - –±—É–¥—É—Ç –∑–∞–º–µ–Ω–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏
    ai_interpretations = {}
    
    # –°–æ–∑–¥–∞–µ–º –∏–º—è —Ñ–∞–π–ª–∞
    out_path = Path(f"DYNAMIC_INTERPRETATIONS_{datetime.now().strftime('%Y%m%d_%H%M%S')}.pdf")
    
    print(f"üë§ –£—á–∞—Å—Ç–Ω–∏–∫: {participant_name}")
    print("üìä –ü—Ä–æ—Ñ–∏–ª—å:")
    print(f"   ‚Ä¢ PAEI: –î–æ–º–∏–Ω–∏—Ä—É–µ—Ç {max(paei_scores, key=paei_scores.get)} ({max(paei_scores.values())} –±–∞–ª–ª–æ–≤)")
    print(f"   ‚Ä¢ DISC: –î–æ–º–∏–Ω–∏—Ä—É–µ—Ç {max(disc_scores, key=disc_scores.get)} ({max(disc_scores.values())} –±–∞–ª–ª–æ–≤)")
    print(f"   ‚Ä¢ HEXACO: –î–æ–º–∏–Ω–∏—Ä—É–µ—Ç {max(hexaco_scores, key=hexaco_scores.get)} ({max(hexaco_scores.values())} –±–∞–ª–ª–æ–≤)")
    print(f"   ‚Ä¢ Soft Skills: –î–æ–º–∏–Ω–∏—Ä—É–µ—Ç {max(soft_skills_scores, key=soft_skills_scores.get)} ({max(soft_skills_scores.values())} –±–∞–ª–ª–æ–≤)")
    print()
    print("üìÑ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è–º–∏...")
    print()
    
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ—Ç—á–µ—Ç
    result = report_generator.generate_enhanced_report(
        participant_name=participant_name,
        test_date=test_date,
        paei_scores=paei_scores,
        disc_scores=disc_scores,
        hexaco_scores=hexaco_scores,
        soft_skills_scores=soft_skills_scores,
        ai_interpretations=ai_interpretations,
        out_path=out_path
    )
    
    print()
    print("üîç –†–ï–ó–£–õ–¨–¢–ê–¢:")
    if isinstance(result, str) and result.startswith("https://"):
        print(f"‚úÖ PDF —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–≥—Ä—É–∂–µ–Ω –≤ Google Drive!")
        print(f"üîó –°–°–´–õ–ö–ê –î–õ–Ø –í–ò–ó–£–ê–õ–¨–ù–û–ì–û –ö–û–ù–¢–†–û–õ–Ø:")
        print(f"üîó {result}")
        print()
        print("üëÅÔ∏è –ß–¢–û –ü–†–û–í–ï–†–ò–¢–¨ –í PDF:")
        print("   1. –ü–æ–¥ –∫–∞–∂–¥–æ–π –¥–∏–∞–≥—Ä–∞–º–º–æ–π –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª '–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:'")
        print("   2. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç:")
        print("      ‚Ä¢ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –±–∞–ª–ª—ã –ø–æ —Ç–µ—Å—Ç–∞–º")
        print("      ‚Ä¢ –î–æ–º–∏–Ω–∏—Ä—É—é—â–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏")
        print("      ‚Ä¢ –ê–Ω–∞–ª–∏–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤")
        print("   3. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ PAEI –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å:")
        print("      ‚Ä¢ –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—è (95 –±–∞–ª–ª–æ–≤)")
        print("      ‚Ä¢ –ê–Ω–∞–ª–∏–∑ —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏—Ö —Ä–æ–ª–µ–π")
        print("   4. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ DISC –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å:")
        print("      ‚Ä¢ –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ –î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (92 –±–∞–ª–ª–∞)")
        print("      ‚Ä¢ –ê–Ω–∞–ª–∏–∑ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è")
        print("   5. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç–∞–º *_system_res.txt")
        
        return result
    else:
        print(f"‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞: {result}")
        return None

if __name__ == "__main__":
    test_dynamic_interpretations()