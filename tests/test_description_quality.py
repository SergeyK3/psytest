#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π
"""

from enhanced_pdf_report_v2 import EnhancedPDFReportV2

def test_description_quality():
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π"""
    
    print("üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π...")
    
    pdf_generator = EnhancedPDFReportV2()
    
    # –¢–µ—Å—Ç–æ–≤—ã–π —Å–ª—É—á–∞–π 1: –î–æ–º–∏–Ω–∏—Ä—É—é—â–∏–π –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å (PAEI)
    paei_producer = {"P": 5, "A": 2, "E": 1, "I": 2}
    desc_paei = pdf_generator._generate_detailed_test_description("PAEI", paei_producer)
    
    print("\n--- –¢–ï–°–¢ PAEI (–î–æ–º–∏–Ω–∏—Ä—É—é—â–∏–π –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å) ---")
    print(f"‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–æ–º–∏–Ω–∏—Ä—É—é—â–∏–π —Å—Ç–∏–ª—å: {'–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å' in desc_paei}")
    print(f"‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç –±–∞–ª–ª—ã: {str(paei_producer['P']) in desc_paei}")
    print(f"‚úÖ –î–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: {'–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏' in desc_paei}")
    
    # –¢–µ—Å—Ç–æ–≤—ã–π —Å–ª—É—á–∞–π 2: –í—ã—Å–æ–∫–æ–µ –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (DISC)
    disc_dominant = {"D": 9, "I": 3, "S": 2, "C": 4}
    desc_disc = pdf_generator._generate_detailed_test_description("DISC", disc_dominant)
    
    print("\n--- –¢–ï–°–¢ DISC (–í—ã—Å–æ–∫–æ–µ –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ) ---")
    print(f"‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–æ–º–∏–Ω–∏—Ä—É—é—â–∏–π —Ç–∏–ø: {'–î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ' in desc_disc}")
    print(f"‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —É—Ä–æ–≤–Ω–∏: {'—è—Ä–∫–æ –≤—ã—Ä–∞–∂–µ–Ω–Ω—ã–π' in desc_disc or '–≤—ã—Å–æ–∫–∏–π' in desc_disc}")
    print(f"‚úÖ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã: {'–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏' in desc_disc}")
    
    # –¢–µ—Å—Ç–æ–≤—ã–π —Å–ª—É—á–∞–π 3: –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HEXACO
    hexaco_balanced = {"H": 3.5, "E": 3.2, "X": 3.8, "A": 3.3, "C": 3.6, "O": 3.4}
    desc_hexaco = pdf_generator._generate_detailed_test_description("HEXACO", hexaco_balanced)
    
    print("\n--- –¢–ï–°–¢ HEXACO (–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å) ---")
    print(f"‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ —Ñ–∞–∫—Ç–æ—Ä—ã: {desc_hexaco.count('—Å—Ä–µ–¥–Ω–∏–π') >= 4}")
    print(f"‚úÖ –†–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç —Ñ–∞–∫—Ç–æ—Ä—ã: {'–ß–µ—Å—Ç–Ω–æ—Å—Ç—å-–°–∫—Ä–æ–º–Ω–æ—Å—Ç—å' in desc_hexaco}")
    print(f"‚úÖ –î–∞–µ—Ç –æ–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: {'—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏' in desc_hexaco.lower()}")
    
    # –¢–µ—Å—Ç–æ–≤—ã–π —Å–ª—É—á–∞–π 4: –í—ã—Å–æ–∫–∏–µ Soft Skills
    soft_high = {
        "–õ–∏–¥–µ—Ä—Å—Ç–≤–æ": 9,
        "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç": 8,
        "–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è": 7,
        "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ": 6
    }
    desc_soft = pdf_generator._generate_detailed_test_description("SOFT_SKILLS", soft_high)
    
    print("\n--- –¢–ï–°–¢ SOFT SKILLS (–í—ã—Å–æ–∫–∏–µ –Ω–∞–≤—ã–∫–∏) ---")
    print(f"‚úÖ –û—Ç–º–µ—á–∞–µ—Ç –≤—ã—Å–æ–∫–∏–µ —É—Ä–æ–≤–Ω–∏: {'–≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å' in desc_soft}")
    print(f"‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π –Ω–∞–≤—ã–∫: {desc_soft.count('—É—Ä–æ–≤–µ–Ω—å') >= 4}")
    print(f"‚úÖ –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–∞–∑–≤–∏—Ç–∏–µ: {'—Ä–∞–∑–≤–∏—Ç–∏–µ' in desc_soft.lower()}")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ HTML-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    print("\n--- –ü–†–û–í–ï–†–ö–ê –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–Ø ---")
    for test_type, desc in [("PAEI", desc_paei), ("DISC", desc_disc), ("HEXACO", desc_hexaco), ("SOFT_SKILLS", desc_soft)]:
        html_elements = desc.count('<b>') + desc.count('<br/>') + desc.count('</b>')
        print(f"‚úÖ {test_type}: HTML —ç–ª–µ–º–µ–Ω—Ç–æ–≤ - {html_elements}")
    
    print("\nüéØ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")

def test_edge_cases():
    """–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∫—Ä–∞–π–Ω–∏–µ —Å–ª—É—á–∞–∏"""
    
    print("\nüî¨ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞–µ–≤...")
    
    pdf_generator = EnhancedPDFReportV2()
    
    # –ö—Ä–∞–π–Ω–∏–π —Å–ª—É—á–∞–π 1: –í—Å–µ –Ω–∏–∑–∫–∏–µ –±–∞–ª–ª—ã PAEI
    paei_low = {"P": 1, "A": 1, "E": 1, "I": 1}
    desc_low = pdf_generator._generate_detailed_test_description("PAEI", paei_low)
    print(f"‚úÖ –ù–∏–∑–∫–∏–µ –±–∞–ª–ª—ã PAEI: –æ–ø–∏—Å–∞–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ ({len(desc_low)} —Å–∏–º–≤–æ–ª–æ–≤)")
    
    # –ö—Ä–∞–π–Ω–∏–π —Å–ª—É—á–∞–π 2: –í—Å–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –±–∞–ª–ª—ã DISC
    disc_max = {"D": 10, "I": 10, "S": 10, "C": 10}
    desc_max = pdf_generator._generate_detailed_test_description("DISC", disc_max)
    print(f"‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –±–∞–ª–ª—ã DISC: –æ–ø–∏—Å–∞–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ ({len(desc_max)} —Å–∏–º–≤–æ–ª–æ–≤)")
    
    # –ö—Ä–∞–π–Ω–∏–π —Å–ª—É—á–∞–π 3: –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è HEXACO
    hexaco_extreme = {"H": 5.0, "E": 1.0, "X": 5.0, "A": 1.0, "C": 5.0, "O": 1.0}
    desc_extreme = pdf_generator._generate_detailed_test_description("HEXACO", hexaco_extreme)
    print(f"‚úÖ –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è HEXACO: –æ–ø–∏—Å–∞–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ ({len(desc_extreme)} —Å–∏–º–≤–æ–ª–æ–≤)")
    
    # –ö—Ä–∞–π–Ω–∏–π —Å–ª—É—á–∞–π 4: –ù–µ–ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä Soft Skills
    soft_partial = {"–õ–∏–¥–µ—Ä—Å—Ç–≤–æ": 5, "–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è": 3}
    desc_partial = pdf_generator._generate_detailed_test_description("SOFT_SKILLS", soft_partial)
    print(f"‚úÖ –ß–∞—Å—Ç–∏—á–Ω—ã–µ Soft Skills: –æ–ø–∏—Å–∞–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ ({len(desc_partial)} —Å–∏–º–≤–æ–ª–æ–≤)")
    
    print("üéØ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞–µ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")

if __name__ == "__main__":
    test_description_quality()
    test_edge_cases()
    print("\nüéâ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")