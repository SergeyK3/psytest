# Google Drive –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - –°—Ç–∞—Ç—É—Å –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ

### 1. –ö–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã Google Drive API –≤ `enhanced_pdf_report_v2.py`
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –ø–æ –≥–æ–¥–∞–º/–º–µ—Å—è—Ü–∞–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 2. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Google API –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
  - `google-api-python-client`
  - `google-auth` 
  - `google-auth-oauthlib`
  - `google-auth-httplib2`

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test_google_drive.py`
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ `docs/google_drive_setup.md`

### 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –§–∞–π–ª credentials –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–µ—Ç–æ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (—Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç)

## üîÑ –ß—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

### 1. Google Cloud Console
1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Google Cloud Console
2. –í–∫–ª—é—á–∏—Ç—å Google Drive API
3. –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
4. –°–∫–∞—á–∞—Ç—å JSON –∫–ª—é—á

### 2. –§–∞–π–ª credentials
- –ü–æ–º–µ—Å—Ç–∏—Ç—å `google_drive_credentials.json` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞–ø–∫–∏ –≤ Google Drive
- –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É "PsychTest Reports"
- –î–∞—Ç—å –¥–æ—Å—Ç—É–ø —Å–µ—Ä–≤–∏—Å–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É

## üöÄ –ì–æ—Ç–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã

### `generate_enhanced_report_with_gdrive()`
```python
# –°–æ–∑–¥–∞–µ—Ç PDF –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤ Google Drive
result = report_generator.generate_enhanced_report_with_gdrive(
    participant_name="–ò–º—è —É—á–∞—Å—Ç–Ω–∏–∫–∞",
    test_date="2025-01-15 14:30:00",
    paei_scores={...},
    disc_scores={...}, 
    hexaco_scores={...},
    soft_skills_scores={...},
    ai_interpretations={...},
    out_path=Path("report.pdf"),
    upload_to_gdrive=True  # –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å
)

if result:
    local_path, gdrive_link = result
    print(f"–õ–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª: {local_path}")
    print(f"Google Drive —Å—Å—ã–ª–∫–∞: {gdrive_link}")
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ Google Drive
```
PsychTest Reports/
  ‚îî‚îÄ‚îÄ 2025/
      ‚îî‚îÄ‚îÄ 01/
          ‚îú‚îÄ‚îÄ report_user1_2025-01-15_14-30-45.pdf
          ‚îú‚îÄ‚îÄ report_user2_2025-01-15_15-45-20.pdf
          ‚îî‚îÄ‚îÄ ...
```

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –±–æ—Ç–æ–º

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –±–æ—Ç–µ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —à–∞–≥:

```python
# –í telegram_test_bot.py, –≤ –º–µ—Ç–æ–¥–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∞:

# –í–º–µ—Å—Ç–æ:
pdf_path = report_generator.generate_enhanced_report(...)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
result = report_generator.generate_enhanced_report_with_gdrive(...)
if result:
    local_path, gdrive_link = result
    
    # –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª –∫–∞–∫ –æ–±—ã—á–Ω–æ
    with open(local_path, 'rb') as pdf_file:
        await context.bot.send_document(...)
    
    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ Google Drive
    await update.message.reply_text(
        f"üìé –í–∞—à –æ—Ç—á–µ—Ç —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ Google Drive:\n{gdrive_link}"
    )
```

## üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
python test_google_drive.py
```

- ‚úÖ –ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç PDF: –ü–†–û–®–ï–õ
- ‚è≥ Google Drive —Ç–µ—Å—Ç: –û–∂–∏–¥–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ credentials

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ: `docs/google_drive_setup.md`

---
**–°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Google Cloud credentials**