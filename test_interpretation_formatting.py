#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Тест форматирования интерпретаций HEXACO и DISC
"""

from interpretation_formatter import (
    format_hexaco_interpretation, 
    format_disc_interpretation,
    parse_hexaco_sections,
    parse_disc_sections,
    format_ai_interpretations
)

# Тестовая HEXACO интерпретация (типичный AI ответ)
test_hexaco = """ТЕСТ HEXACO:
Честность-Скромность: 5 (очень высокий уровень)
Человек обладает высокой честностью, справедливостью и скромностью.
Склонен избегать манипуляций, корыстных поступков или использования других для достижения своих целей.
Предпочитает следовать моральным принципам, даже если это идет вразрез с личной выгодой.
Может быть идеалистом, стремящимся к высокой этике в отношениях и поступках.

Эмоциональность: 4 (высокий уровень)
Склонен к более ярко выраженным эмоциональным переживаниям.
Чувствителен к стрессу, возможно, беспокоится о будущих событиях или трудностях.
Может ценить привязанности и близкие отношения, но также испытывать страх потери или отказа.
Эмоциональные реакции могут быть интенсивными, что делает его уязвимым в напряженных ситуациях.

Экстраверсия: 3 (средний уровень)
Общительность, энергичность и оптимизм находятся на среднем уровне.
Человек комфортно чувствует себя в социальных взаимодействиях, но не стремится быть центром внимания.
Предпочитает баланс между активным участием в общественной жизни и временем, проведенным наедине.
Возможна умеренная уверенность в себе и своих возможностях.

Добросовестность: 4 (высокий уровень)
Человек демонстрирует организованность, ответственность и надежность.
Склонен ставить перед собой цели и следовать им с усердием.
Хорошо справляется с планированием, выполнением задач и управлением временем.
Может быть ориентирован на высокие стандарты в работе и жизни.

Доброжелательность: 2 (низкий уровень)
Человек может быть менее склонен к сотрудничеству и альтруизму.
Склонен защищать свои интересы, иногда даже в ущерб отношениям с другими.
Может демонстрировать прямолинейность и быть критичным в оценке окружающих.
Вероятно, предпочитает взаимодействия, основанные на ясности и честности, но иногда это может восприниматься как холодность или жесткость.

Открытость к опыту: 1 (очень низкий уровень)
Человек предпочитает традиционные подходы и избегает новшеств.
Может быть не склонен к абстрактному мышлению, креативным идеям или исследованию новых сфер знаний.
Предпочитает практичные, проверенные временем методы и решения.
Важны стабильность и упорядоченность, возможно, не испытывает интереса к искусству, философии или нестандартным идеям.

Общий портрет личности:
Этот человек сочетает в себе высокие моральные качества (честность) с организованностью и ответственностью (добросовестность).
Чувствительность и эмоциональность позволяют ему быть глубоко привязанным к людям, но низкая доброжелательность может осложнять взаимодействие в социально сложных ситуациях.
Средний уровень экстраверсии говорит о том, что он комфортно чувствует себя в общении, но не стремится к постоянной активности.
Низкая открытость к опыту подчеркивает склонность к традиционализму и практичности.

Рекомендации психолога:
Развитие доброжелательности:
Работать над повышением терпимости и готовности учитывать интересы других людей.
Практиковать эмпатию и активно слушать во время взаимодействий.
Укрепление эмоциональной устойчивости:
Освоить техники управления стрессом и эмоциональной регуляции.
Сосредоточиться на поиске поддерживающей среды для эмоционального благополучия.
Повышение открытости к новому:
Постепенно пробовать что-то новое, начиная с малого.
Развивать интерес к разным сферам жизни, например, через книги, курсы или путешествия.
Использование сильных сторон:
Высокая честность и добросовестность делают этого человека надежным и ценным сотрудником или партнером.
Организованность и внимание к этическим аспектам способствуют успеху в профессиях, требующих ответственности и принципиальности.
Идеальные профессиональные роли:
Руководитель или специалист в традиционных, структурированных сферах (юриспруденция, бухгалтерия, управление).
Деятель в областях, где важны честность и ответственность (общественная деятельность, медицина, работа с финансами).
Роли, где не требуется постоянного поиска новых идей, но важна стабильность и практичность."""

# Тестовая DISC интерпретация
test_disc = """ТЕСТ DISC:
Сумма баллов по доминированию 9 (4+5): ярко выраженное доминирование
Человек демонстрирует сильную волю, решительность и стремление к лидерству.
Уверен в себе, предпочитает брать на себя ответственность за принятие решений.
Склонен действовать независимо, энергично и ориентирован на достижение высоких результатов.
Возможны черты настойчивости, иногда переходящие в упрямство или стремление к контролю.

Сумма баллов по влиянию 5 (3+2): средний уровень
Общительность и способность влиять на других присутствуют, но не являются ярко выраженными.
Человек может устанавливать контакты, но не всегда стремится быть в центре внимания.
Демонстрирует сбалансированное отношение к взаимодействию с окружающими, предпочитая эффективную, но не избыточную коммуникацию.

Сумма баллов по устойчивости 3 (1+2): невыраженный аспект
Человек может быть чувствительным к изменениям и испытывать трудности в условиях неопределенности.
Возможна быстрая реакция на стресс, но при этом может отсутствовать терпение в долгосрочной перспективе.
Склонен избегать рутинной работы или процессов, требующих длительной концентрации на одном аспекте.

Сумма баллов по подчинению правилам 9 (5+4): ярко выраженный аспект
Высокий уровень подчинения правилам указывает на ориентацию на порядок, структуру и соблюдение норм.
Человек может проявлять внимание к деталям, высокую дисциплинированность и точность.
Стремится следовать установленным стандартам и ожиданиям, ценит организованность и четкость.

Общий вывод:
Этот человек обладает сильной доминирующей стороной личности, что делает его прирожденным лидером, особенно в ситуациях, где требуется принятие быстрых и решительных действий.
Средний уровень влияния говорит о сбалансированном подходе к взаимодействию с людьми: человек не стремится быть душой компании, но при необходимости может эффективно общаться.
Низкий уровень устойчивости указывает на необходимость работы над стрессоустойчивостью и терпением в длительных проектах.
Высокая ориентация на соблюдение правил и структурность позволяет этому человеку быть эффективным в системных и организованных средах.

Рекомендации психолога:
Укрепление устойчивости:
Практиковать техники управления стрессом, такие как дыхательные упражнения, медитация или физическая активность.
Постепенно развивать навыки терпения и адаптации к рутинным задачам.
Оптимизация доминирования:
Учитывать мнение других людей, чтобы избежать излишней авторитарности.
Развивать навыки сотрудничества и делегирования.
Использование сильных сторон:
Использовать сильное доминирование и дисциплинированность для достижения высоких результатов в управленческих или организаторских ролях.
Стремиться к профессиональным задачам, требующим четкого следования нормам и стратегического мышления.
Идеальные профессиональные роли:
Лидер проектов, менеджер в структурированных организациях.
Руководитель в областях, требующих строгого соблюдения норм и стандартов.
Профессионал в сфере, где важны решительность, лидерство и структурность."""

def test_hexaco_formatting():
    """Тестирует форматирование HEXACO"""
    print("=== ТЕСТ HEXACO ФОРМАТИРОВАНИЯ ===")
    
    # Тестируем форматирование
    formatted = format_hexaco_interpretation(test_hexaco)
    print("Отформатированный текст:")
    print(formatted)
    
    print("\n=== РАЗБОР НА СЕКЦИИ ===")
    sections = parse_hexaco_sections(test_hexaco)
    for section_name, section_text in sections.items():
        print(f"\n--- {section_name} ---")
        print(section_text[:200] + "..." if len(section_text) > 200 else section_text)

def test_disc_formatting():
    """Тестирует форматирование DISC"""
    print("\n\n=== ТЕСТ DISC ФОРМАТИРОВАНИЯ ===")
    
    # Тестируем форматирование
    formatted = format_disc_interpretation(test_disc)
    print("Отформатированный текст:")
    print(formatted)
    
    print("\n=== РАЗБОР НА СЕКЦИИ ===")
    sections = parse_disc_sections(test_disc)
    for section_name, section_text in sections.items():
        print(f"\n--- {section_name} ---")
        print(section_text[:200] + "..." if len(section_text) > 200 else section_text)

def test_ai_interpretations_formatting():
    """Тестирует общее форматирование AI интерпретаций"""
    print("\n\n=== ТЕСТ ОБЩЕГО ФОРМАТИРОВАНИЯ ===")
    
    interpretations = {
        'hexaco': test_hexaco,
        'disc': test_disc,
        'paei': 'Тест PAEI интерпретация',
        'soft_skills': 'Тест Soft Skills интерпретация'
    }
    
    formatted = format_ai_interpretations(interpretations)
    
    print("Форматирование выполнено для следующих тестов:")
    for test_type in formatted:
        print(f"- {test_type}: {'Изменен' if formatted[test_type] != interpretations[test_type] else 'Не изменен'}")

if __name__ == "__main__":
    test_hexaco_formatting()
    test_disc_formatting() 
    test_ai_interpretations_formatting()